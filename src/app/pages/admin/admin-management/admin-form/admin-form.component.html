<!-- eslint-disable @angular-eslint/template/label-has-associated-control -->
<div class="p-4">
  <form class="space-y-4">
    <div class="form-item">
      <label class="block text-sm font-medium text-gray-700 mb-1">用户名</label>
      <input
        nz-input
        [(ngModel)]="formData.username"
        name="username"
        placeholder="请输入用户名"
        [disabled]="submitting"
        class="rounded-[4px]"
      />
    </div>

    <div class="form-item" *ngIf="!isEdit">
      <label class="block text-sm font-medium text-gray-700 mb-1">密码</label>
      <input
        nz-input
        [(ngModel)]="formData.password"
        name="password"
        type="password"
        placeholder="请输入密码"
        [disabled]="submitting"
        class="rounded-[4px]"
      />
      <div class="text-xs text-gray-500 mt-1">编辑时不更新密码</div>
    </div>

    <div class="form-item">
      <label class="block text-sm font-medium text-gray-700 mb-1">角色</label>
      <nz-select
        class="w-full rounded-[4px]"
        [(ngModel)]="formData.role"
        name="role"
        [disabled]="submitting"
      >
        <nz-option
          *ngFor="let option of roleOptions"
          [nzValue]="option.value"
          [nzLabel]="option.label"
        ></nz-option>
      </nz-select>
    </div>

    <div class="form-item">
      <label class="block text-sm font-medium text-gray-700 mb-1">状态</label>
      <nz-select
        class="w-full rounded-[4px]"
        [(ngModel)]="formData.status"
        name="status"
        [disabled]="submitting"
      >
        <nz-option
          *ngFor="let option of statusOptions"
          [nzValue]="option.value"
          [nzLabel]="option.label"
        ></nz-option>
      </nz-select>
    </div>

    <div class="flex justify-end gap-2 pt-4">
      <button nz-button (click)="cancel()" [disabled]="submitting" class="border-gray-300">取消</button>
      <button
        nz-button
        nzType="primary"
        (click)="submitForm()"
        [nzLoading]="submitting"
        class="bg-purple-600 border-purple-600 hover:bg-purple-700 hover:border-purple-700"
      >
        {{ isEdit ? '保存' : '创建' }}
      </button>
    </div>
  </form>
</div>
