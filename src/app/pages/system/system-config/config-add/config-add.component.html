<div class="container">
    <nz-spin [nzSpinning]="loading">
    <form nz-form [formGroup]="configForm" nzLayout="vertical" (ngSubmit)="submitForm()">
    <nz-form-item>
      <nz-form-label nzRequired nzFor="config_key">配置键名</nz-form-label>
      <nz-form-control [nzErrorTip]="configKeyErrorTpl">
        <input
          nz-input
          id="config_key"
          formControlName="config_key"
          placeholder="请输入配置键名"
          [disabled]="!!config"
        />
        <div class="mt-1 text-xs text-gray-500">配置键名应由字母、数字和下划线组成，以字母开头</div>
        <ng-template #configKeyErrorTpl let-control>
          <ng-container *ngIf="control.hasError('required')">请输入配置键名</ng-container>
          <ng-container *ngIf="control.hasError('pattern')">配置键名格式不正确，应由小写字母、数字和下划线组成，以字母开头</ng-container>
        </ng-template>
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label nzRequired nzFor="config_value">配置值</nz-form-label>
      <nz-form-control nzErrorTip="请输入配置值">
        <input
          nz-input
          id="config_value"
          formControlName="config_value"
          placeholder="请输入配置值"
        />
      </nz-form-control>
    </nz-form-item>

    <nz-form-item>
      <nz-form-label nzRequired nzFor="description">配置描述</nz-form-label>
      <nz-form-control nzErrorTip="请输入配置描述">
        <textarea
          nz-input
          id="description"
          formControlName="description"
          placeholder="请输入配置描述"
          [nzAutosize]="{ minRows: 3, maxRows: 6 }"
        ></textarea>
      </nz-form-control>
    </nz-form-item>

    <!-- <div class="flex justify-end space-x-4 mt-6">
      <button type="button" nz-button (click)="cancel()">取消</button>
      <button
        nz-button
        nzType="primary"
        type="submit"
        [nzLoading]="submitting"
      >
        保存
      </button>
    </div> -->
  </form>
  </nz-spin>
</div>

<div class="button">
  <button [disabled]="loading" (click)="cancel()" nz-button type="reset" nzType="default" nzSize="default">取消</button>
  <button [disabled]="loading" (click)="submitForm()" nz-button nzType="primary" nzSize="default">提交</button>
</div>
